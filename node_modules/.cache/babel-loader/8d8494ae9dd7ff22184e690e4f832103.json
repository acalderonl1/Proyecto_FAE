{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\belmont02\\\\Desktop\\\\webandapkAndroid\\\\Proyecto_FAE\\\\src\\\\components\\\\dashboardAdmin.jsx\";\nimport \"bootstrap/dist/css/bootstrap.min.css\";\nimport React, { Component } from 'react';\nimport Row from 'react-bootstrap/Row';\nimport Col from 'react-bootstrap/Col';\nimport Card from 'react-bootstrap/Card';\nimport axios from 'axios';\nimport swal from 'sweetalert';\nimport '../assets/nav/Navbar.css';\nimport ListGroup from 'react-bootstrap/ListGroup';\nimport ListGroupItem from 'react-bootstrap/ListGroupItem';\nimport { Button } from 'react-bootstrap';\nconst url = \"http://localhost:3000/usuario/datareservaweb\";\nconst urlPutreserva = \"http://localhost:3000/reserva/update/\";\n\nclass dashboardAdmin extends Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      data: [],\n      form: {\n        estado: 'C'\n      },\n      form2: {\n        estado: 'P'\n      }\n    };\n\n    this.modalInsertar = () => {\n      this.setState({\n        modalInsertar: !this.state.modalInsertar\n      });\n    };\n\n    this.peticionGet = () => {\n      axios.get(url).then(response => {\n        this.setState({\n          data: response.data\n        });\n        console.log(response.data);\n      });\n    };\n\n    this.peticionPut = idreserva => {\n      console.log(idreserva);\n      console.log(this.state.form);\n      axios.put(urlPutreserva + idreserva, this.state.form).then(response => {\n        this.peticionGet();\n      });\n    };\n\n    this.peticionPutFiar = idreserva => {\n      console.log(idreserva);\n      console.log(this.state.form);\n      axios.put(urlPutreserva + idreserva, this.state.form2).then(response => {\n        this.peticionGet();\n      });\n    };\n\n    this.handleChange = async e => {\n      e.persist();\n      await this.setState({\n        form: { ...this.state.form,\n          [e.target.name]: e.target.value\n        }\n      });\n      console.log(this.state.form);\n    };\n  }\n\n  componentDidMount() {\n    this.peticionGet();\n  }\n\n  render() {\n    const alertaConfirmacion = reserva => {\n      swal({\n        title: \"Confirmar pago\",\n        text: \"Estás seguro que deseas confirmar pago?\",\n        icon: \"warning\",\n        buttons: [\"No\", \"Si\"]\n      }).then(repuesta => {\n        if (repuesta) {\n          swal({\n            text: \"La reserva se a cancelado con exito\",\n            icon: \"success\"\n          });\n          this.peticionPut(reserva);\n          console.log(reserva);\n        }\n      });\n    };\n\n    const alertaFiar = reserva => {\n      swal({\n        title: \"Fiar reserva\",\n        text: \"Estás seguro que deseas fiar?\",\n        icon: \"warning\",\n        buttons: [\"No\", \"Si\"]\n      }).then(repuesta => {\n        if (repuesta) {\n          swal({\n            text: \"La reserva se a fiado con exito\",\n            icon: \"success\"\n          });\n          this.peticionPutFiar(reserva);\n          console.log(reserva);\n        }\n      });\n    };\n\n    const {\n      form\n    } = this.state;\n    const color = '#5DADE2';\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"home\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 17\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 24\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 31\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 38\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 105,\n        columnNumber: 45\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }\n    }), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 24\n      }\n    }), /*#__PURE__*/React.createElement(Row, {\n      xs: 1,\n      md: 4,\n      className: \"g-4\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 17\n      }\n    }, this.state.data.map(reserva => {\n      return /*#__PURE__*/React.createElement(Col, {\n        md: 4,\n        className: \"mb-2\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112,\n          columnNumber: 29\n        }\n      }, /*#__PURE__*/React.createElement(Card, {\n        className: \"carta\",\n        style: {\n          backgroundColor: color\n        },\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 33\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Card.Title, {\n        class: \"row justify-content-center\",\n        value: form.idreserva,\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 41\n        }\n      }, reserva.idreserva), /*#__PURE__*/React.createElement(Card.Text, {\n        class: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 41\n        }\n      }, reserva.personas.map(menudia => {\n        return menudia.nombres;\n      }))), /*#__PURE__*/React.createElement(ListGroup, {\n        className: \"list-group-flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127,\n          columnNumber: 41\n        }\n      }, \"D\\xEDa: \", reserva.menudia.map(menudia => {\n        return menudia.dia;\n      }), \" / \", reserva.menudia.map(menudia => {\n        return menudia.dia_fecha;\n      })), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 136,\n          columnNumber: 41\n        }\n      }, reserva.menudia.map(menudia => {\n        return menudia.tiporanchos.map(tiporancho => {\n          return tiporancho.nombre;\n        });\n      })), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 145,\n          columnNumber: 41\n        }\n      }, reserva.menudia.map(menudia => {\n        return menudia.menus.map(menu => {\n          return menu.descripcion;\n        });\n      })), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 154,\n          columnNumber: 41\n        }\n      }, reserva.menudia.map(menudia => {\n        return menudia.comedors.map(comedor => {\n          return comedor.nombre;\n        });\n      }))), /*#__PURE__*/React.createElement(ListGroup, {\n        className: \"list-group-flush\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 165,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 166,\n          columnNumber: 41\n        }\n      }, \"Correo: \", reserva.personas.map(persona => {\n        return persona.correo;\n      }), \" \"), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 171,\n          columnNumber: 41\n        }\n      }, \"Telefono: \", reserva.personas.map(persona => {\n        return persona.telefono;\n      })), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176,\n          columnNumber: 41\n        }\n      }, \"DNI: \", reserva.personas.map(persona => {\n        return persona.dni;\n      })), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 181,\n          columnNumber: 41\n        }\n      }, \"Precio: \", reserva.menudia.map(menudia_ => {\n        return new Intl.NumberFormat(\"en-EN\").format(menudia_.precio);\n      }), \" Cantidad: \", new Intl.NumberFormat(\"en-EN\").format(reserva.cantidad)), /*#__PURE__*/React.createElement(ListGroupItem, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 41\n        }\n      }, \"Total a pagar: \", reserva.menudia.map(menudia_ => {\n        return new Intl.NumberFormat(\"en-EN\").format(menudia_.precio * reserva.cantidad);\n      }), \" \")), /*#__PURE__*/React.createElement(Card.Footer, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 194,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(\"small\", {\n        className: \"text-muted\",\n        class: \"row justify-content-center\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 195,\n          columnNumber: 41\n        }\n      }, \"Estado de reserva: \", reserva.estado)), /*#__PURE__*/React.createElement(Col, {\n        className: \"button\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198,\n          columnNumber: 37\n        }\n      }, /*#__PURE__*/React.createElement(Card.Body, {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 41\n        }\n      }, /*#__PURE__*/React.createElement(Button, {\n        style: {\n          backgroundColor: '#1E8449'\n        },\n        onClick: () => alertaConfirmacion(reserva.idreserva),\n        variant: \"primary\",\n        type: \"submit\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 45\n        }\n      }, \"Pagar\"), \"\\xA0\\xA0\\xA0\\xA0\", /*#__PURE__*/React.createElement(Button, {\n        style: {\n          backgroundColor: '#B03A2E'\n        },\n        onClick: () => alertaFiar(reserva.idreserva),\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 202,\n          columnNumber: 45\n        }\n      }, \"Fiar\"), \"\\xA0\"))));\n    }), \"  \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 26\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 32\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 38\n      }\n    }), \" \"), \" \", /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 52\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 58\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 64\n      }\n    }));\n  }\n\n}\n\nexport default dashboardAdmin;","map":{"version":3,"sources":["C:/Users/belmont02/Desktop/webandapkAndroid/Proyecto_FAE/src/components/dashboardAdmin.jsx"],"names":["React","Component","Row","Col","Card","axios","swal","ListGroup","ListGroupItem","Button","url","urlPutreserva","dashboardAdmin","state","data","form","estado","form2","modalInsertar","setState","peticionGet","get","then","response","console","log","peticionPut","idreserva","put","peticionPutFiar","handleChange","e","persist","target","name","value","componentDidMount","render","alertaConfirmacion","reserva","title","text","icon","buttons","repuesta","alertaFiar","color","map","backgroundColor","personas","menudia","nombres","dia","dia_fecha","tiporanchos","tiporancho","nombre","menus","menu","descripcion","comedors","comedor","persona","correo","telefono","dni","menudia_","Intl","NumberFormat","format","precio","cantidad"],"mappings":"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","sourcesContent":["import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport React, { Component } from 'react';\r\nimport Row from 'react-bootstrap/Row'\r\nimport Col from 'react-bootstrap/Col'\r\nimport Card from 'react-bootstrap/Card'\r\nimport axios from 'axios';\r\nimport swal from 'sweetalert';\r\nimport '../assets/nav/Navbar.css';\r\nimport ListGroup from 'react-bootstrap/ListGroup'\r\nimport ListGroupItem from 'react-bootstrap/ListGroupItem'\r\nimport { Button } from 'react-bootstrap';\r\nconst url = \"http://localhost:3000/usuario/datareservaweb\";\r\nconst urlPutreserva = \"http://localhost:3000/reserva/update/\";\r\n\r\nclass dashboardAdmin extends Component {\r\n    state = {\r\n        data: [],\r\n        form: {\r\n            estado: 'C',\r\n        },\r\n        form2: {\r\n            estado: 'P',\r\n        }\r\n    }\r\n    modalInsertar = () => {\r\n        this.setState({ modalInsertar: !this.state.modalInsertar });\r\n    }\r\n    peticionGet = () => {\r\n        axios.get(url).then(response => {\r\n            this.setState({ data: response.data });\r\n            console.log(response.data);\r\n        })\r\n    }\r\n\r\n    peticionPut = (idreserva) => {\r\n        console.log(idreserva);\r\n        console.log(this.state.form);\r\n        axios.put(urlPutreserva + idreserva, this.state.form).then(response => {\r\n            this.peticionGet();\r\n        })\r\n    }\r\n    peticionPutFiar = (idreserva) => {\r\n        console.log(idreserva);\r\n        console.log(this.state.form);\r\n        axios.put(urlPutreserva + idreserva, this.state.form2).then(response => {\r\n            this.peticionGet();\r\n        })\r\n    }\r\n    handleChange = async e => {\r\n        e.persist();\r\n        await this.setState({\r\n            form: {\r\n                ...this.state.form,\r\n                [e.target.name]: e.target.value\r\n            }\r\n        });\r\n        console.log(this.state.form);\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.peticionGet()\r\n    }\r\n\r\n\r\n    render() {\r\n        const alertaConfirmacion = (reserva) => {\r\n            swal({\r\n                title: \"Confirmar pago\",\r\n                text: \"Estás seguro que deseas confirmar pago?\",\r\n                icon: \"warning\",\r\n                buttons: [\"No\", \"Si\"]\r\n            }).then(repuesta => {\r\n                if (repuesta) {\r\n                    swal({\r\n                        text: \"La reserva se a cancelado con exito\",\r\n                        icon: \"success\"\r\n                    });\r\n                    this.peticionPut(reserva)\r\n                    console.log(reserva);\r\n                }\r\n            })\r\n        }\r\n        const alertaFiar = (reserva) => {\r\n            swal({\r\n                title: \"Fiar reserva\",\r\n                text: \"Estás seguro que deseas fiar?\",\r\n                icon: \"warning\",\r\n                buttons: [\"No\", \"Si\"]\r\n            }).then(repuesta => {\r\n                if (repuesta) {\r\n                    swal({\r\n                        text: \"La reserva se a fiado con exito\",\r\n                        icon: \"success\"\r\n                    });\r\n                    this.peticionPutFiar(reserva)\r\n                    console.log(reserva);\r\n                }\r\n            })\r\n        }\r\n\r\n        const { form } = this.state;\r\n        const color = '#5DADE2';\r\n        return (\r\n            <div className=\"home\" >\r\n                <br /> <br /> <br /> <br /> <br />\r\n                <br /> <br />\r\n                <Row xs={1} md={4} className=\"g-4\">\r\n                    {this.state.data.map(reserva => {\r\n\r\n                        return (\r\n\r\n                            <Col md={4} className=\"mb-2\">\r\n\r\n                                <Card className=\"carta\" style={{ backgroundColor: color }}>\r\n\r\n                                    <Card.Body>\r\n                                        <Card.Title class=\"row justify-content-center\" value={form.idreserva}>{reserva.idreserva}</Card.Title>\r\n                                        <Card.Text class=\"row justify-content-center\">\r\n                                            {reserva.personas.map(menudia => {\r\n                                                return (\r\n                                                    menudia.nombres\r\n                                                )\r\n                                            })}\r\n                                        </Card.Text>\r\n                                    </Card.Body>\r\n                                    <ListGroup className=\"list-group-flush\">\r\n                                        <ListGroupItem>Día: {reserva.menudia.map(menudia => {\r\n                                            return (\r\n                                                menudia.dia\r\n                                            )\r\n                                        })} / {reserva.menudia.map(menudia => {\r\n                                            return (\r\n                                                menudia.dia_fecha\r\n                                            )\r\n                                        })}</ListGroupItem>\r\n                                        <ListGroupItem>{reserva.menudia.map(menudia => {\r\n                                            return (\r\n                                                menudia.tiporanchos.map(tiporancho => {\r\n                                                    return (\r\n                                                        tiporancho.nombre\r\n                                                    )\r\n                                                })\r\n                                            )\r\n                                        })}</ListGroupItem>\r\n                                        <ListGroupItem>{reserva.menudia.map(menudia => {\r\n                                            return (\r\n                                                menudia.menus.map(menu => {\r\n                                                    return (\r\n                                                        menu.descripcion\r\n                                                    )\r\n                                                })\r\n                                            )\r\n                                        })}</ListGroupItem>\r\n                                        <ListGroupItem>{reserva.menudia.map(menudia => {\r\n                                            return (\r\n                                                menudia.comedors.map(comedor => {\r\n                                                    return (\r\n                                                        comedor.nombre\r\n                                                    )\r\n                                                })\r\n                                            )\r\n                                        })}</ListGroupItem>\r\n                                    </ListGroup>\r\n\r\n                                    <ListGroup className=\"list-group-flush\">\r\n                                        <ListGroupItem>Correo: {reserva.personas.map(persona => {\r\n                                            return (\r\n                                                persona.correo\r\n                                            )\r\n                                        })} </ListGroupItem>\r\n                                        <ListGroupItem>Telefono: {reserva.personas.map(persona => {\r\n                                            return (\r\n                                                persona.telefono\r\n                                            )\r\n                                        })}</ListGroupItem>\r\n                                        <ListGroupItem>DNI: {reserva.personas.map(persona => {\r\n                                            return (\r\n                                                persona.dni\r\n                                            )\r\n                                        })}</ListGroupItem>\r\n                                        <ListGroupItem>Precio: {reserva.menudia.map(menudia_ => {\r\n                                            return (\r\n                                                new Intl.NumberFormat(\"en-EN\").format(menudia_.precio)\r\n                                            )\r\n                                        })} Cantidad: {new Intl.NumberFormat(\"en-EN\").format(reserva.cantidad)}\r\n                                        </ListGroupItem>\r\n                                        <ListGroupItem>Total a pagar: {reserva.menudia.map(menudia_ => {\r\n                                            return (\r\n                                                new Intl.NumberFormat(\"en-EN\").format(menudia_.precio * reserva.cantidad)\r\n                                            )\r\n                                        })} </ListGroupItem>\r\n                                    </ListGroup>\r\n\r\n                                    <Card.Footer>\r\n                                        <small className=\"text-muted\" class=\"row justify-content-center\">Estado de reserva: {reserva.estado}</small>\r\n                                    </Card.Footer>\r\n\r\n                                    <Col className=\"button\" >\r\n                                        <Card.Body>\r\n                                            <Button style={{ backgroundColor: '#1E8449' }} onClick={() => alertaConfirmacion(reserva.idreserva)} variant=\"primary\" type=\"submit\">Pagar</Button>&nbsp;&nbsp;&nbsp;&nbsp;\r\n\r\n                                            <Button style={{ backgroundColor: '#B03A2E' }} onClick={() => alertaFiar(reserva.idreserva)}  >Fiar</Button>&nbsp;\r\n                                        </Card.Body>\r\n                                    </Col>\r\n                                </Card>\r\n\r\n                            </Col>\r\n\r\n                        )\r\n\r\n                    })}  <br /><br /><br /> </Row> <br /><br /><br />\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default dashboardAdmin;"]},"metadata":{},"sourceType":"module"}